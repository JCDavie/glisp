!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"n",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return _})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"v",(function(){return E})),n.d(t,"t",(function(){return v})),n.d(t,"G",(function(){return w})),n.d(t,"z",(function(){return M})),n.d(t,"u",(function(){return k})),n.d(t,"I",(function(){return j})),n.d(t,"s",(function(){return x})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return P})),n.d(t,"y",(function(){return D})),n.d(t,"B",(function(){return C})),n.d(t,"C",(function(){return B})),n.d(t,"H",(function(){return R})),n.d(t,"w",(function(){return T})),n.d(t,"E",(function(){return L})),n.d(t,"x",(function(){return U})),n.d(t,"D",(function(){return W})),n.d(t,"F",(function(){return q})),n.d(t,"A",(function(){return H})),n.d(t,"p",(function(){return F})),n.d(t,"o",(function(){return $}));const r=Symbol.for("meta"),i=Symbol.for("ast"),o=Symbol.for("env"),s=Symbol.for("params"),a=Symbol.for("ismacro"),c=Symbol.for("isvector"),u=Symbol.for("eval"),l=Symbol.for("eval-params"),f=Symbol.for("macroexpanded"),_=Symbol.for("fn"),p=Symbol.for("outer"),d=Symbol.for("outer-key"),h=Symbol.for("cache"),b=Symbol("issugar"),y=Symbol.for("elmstrs"),m=Symbol.for("keys"),g=Symbol.for("delimiters");class O extends Error{}function E(e){switch(typeof e){case"object":if(null===e)return"nil";if(Array.isArray(e)){return e[c]?"vector":"list"}return e instanceof Float32Array?"vector":"symbol"===e.type?"symbol":e instanceof $?"atom":"map";case"function":return e[a]?"macro":"fn";case"string":switch(e[0]){case A:return"keyword";default:return"string"}case"number":return"number";case"boolean":return"boolean";default:return"undefined"}}function v(e,t){return e[h]instanceof Object?e[h][t]:void 0}function w(e,t,n){e[h]instanceof Object||(e[h]={}),e[h][t]=n}const M=e=>e instanceof Object;function k(e){return e instanceof Object&&r in e?e[r]:null}function j(e,t){if(void 0===t)throw new O("[with-meta] Need the metadata to attach");if(!M(e))throw new O("[with-meta] Object should not be atom");const n=S(e);return n[r]=t,n}function x(e){if("root"in e)return e.root;{const{outer:t,index:n}=e;return H(t)?t[t[m][n]]:t[n]}}function S(e,t){let n;if(Array.isArray(e))n=[...e],W(e)&&q(n);else if(H(e))n=Object.assign({},e);else{if(!(e instanceof Function))throw new O("[JS: cloneExp] Unsupported type for clone");{const t=(...n)=>e.apply(t,n);n=Object.assign(t,e)}}return void 0!==t&&(n[r]=t),n}function P(e,t,n,c,u=null,l=!1){const f={[i]:t,[o]:n,[s]:c,[r]:u,[a]:l};return Object.assign(e,f)}const A="Êž",D=e=>!!(e instanceof Function&&e[i]),C=e=>"string"===E(e);class I{constructor(e){this.value=e,this.type="symbol"}static get(e){let t=I.map.get(e);return t||(t=new I(e),I.map.set(e,t),t)}toString(){return this.value}}I.map=globalThis["mal-symbols"]||new Map,globalThis["mal-symbols"]=I.map,globalThis.MalSymbol=I;const B=e=>"symbol"===E(e),R=I.get,T=e=>"keyword"===E(e),L=e=>A+e,U=e=>"list"===E(e),W=e=>"vector"===E(e);function q(e){return e[c]=!0,e}const H=e=>"map"===E(e);function F(e,...t){if(t.length%2==1)throw new O("Odd number of map arguments");for(let n=0;n<t.length;n+=2){if("string"!=typeof t[n])throw new O("Hash map can only use string/symbol/keyword as key");e[t[n]]=t[n+1]}return e}class ${constructor(e){this.val=e}}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(0);const i={log:(...e)=>{console.info(...e)},return:(...e)=>{console.log(...e)},error:(...e)=>{console.error(...e)},clear:console.clear};function o(e,t=!0,n=!0){const i=t,s=n;let a;if(Object(r.z)(e)&&r.d in e){const t=e[r.c],n=e[r.d];if(Array.isArray(e)){const c=n.length;a="";for(let r=0;r<c;r++)a+=t[r],n[r]||(n[r]=o(e[r],i,s)),a+=n[r];a+=t[c],e[r.j]||(Object(r.x)(e)?a="("+a+")":Object(r.D)(e)&&(a="["+a+"]"))}else{const c=e[r.k],u=c.length;a="";for(let r=0;r<u;r++)a+=t[2*r]+o(c[r])+t[2*r+1],n[r]||(n[r]=o(e[c[r]],i,s)),a+=n[r];a+=t[t.length-1],a="{"+a+"}"}}else{let t=null;const n=Object(r.v)(e);switch(n){case"list":case"vector":{let c;if(t=e.map(e=>o(e,i,s)),r.c in e)c=e[r.c];else{const n=Math.max(0,t.length-1);c=["",...Array(n).fill(" "),""],e[r.c]=c}a="list"===n?"(":"[";for(let e=0;e<t.length;e++)a+=c[e]+t[e];a+=c[c.length-1],a+="list"===n?")":"]";break}case"map":{t=[];for(const n in e)t.push(o(n,i,s),o(e[n],i,s));let n;if(r.c in e)n=e[r.c];else{const i=Math.max(0,t.length-1);n=["",...Array(i).fill(" "),""],e[r.c]=n}a="{";for(let e=0;e<t.length;e++)a+=n[e]+t[e];a+=n[n.length-1],a+="}";break}case"number":a=e.toString();break;case"string":a=i?'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e;break;case"boolean":a=e.toString();break;case"nil":a="nil";break;case"symbol":a=e.value;break;case"keyword":a=":"+e.slice(1);break;case"atom":a=`(atom ${o(e.val,i,s)})`;break;case"fn":case"macro":if(r.b in e){a=`(${n} ${o(e[r.n],i,s)} ${o(e[r.b],i,s)})`}else a="<JS Function>";break;case"undefined":a="<undefined>"}s&&Object(r.z)(e)&&t&&(e[r.d]||(e[r.d]=t))}return a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={};n.r(r),n.d(r,"create",(function(){return a})),n.d(r,"clone",(function(){return c})),n.d(r,"copy",(function(){return u})),n.d(r,"identity",(function(){return l})),n.d(r,"fromValues",(function(){return f})),n.d(r,"set",(function(){return _})),n.d(r,"invert",(function(){return p})),n.d(r,"determinant",(function(){return d})),n.d(r,"multiply",(function(){return h})),n.d(r,"rotate",(function(){return b})),n.d(r,"scale",(function(){return y})),n.d(r,"translate",(function(){return m})),n.d(r,"fromRotation",(function(){return g})),n.d(r,"fromScaling",(function(){return O})),n.d(r,"fromTranslation",(function(){return E})),n.d(r,"str",(function(){return v})),n.d(r,"frob",(function(){return w})),n.d(r,"add",(function(){return M})),n.d(r,"subtract",(function(){return k})),n.d(r,"multiplyScalar",(function(){return j})),n.d(r,"multiplyScalarAndAdd",(function(){return x})),n.d(r,"exactEquals",(function(){return S})),n.d(r,"equals",(function(){return P})),n.d(r,"mul",(function(){return A})),n.d(r,"sub",(function(){return D}));var i={};n.r(i),n.d(i,"create",(function(){return C})),n.d(i,"clone",(function(){return I})),n.d(i,"fromValues",(function(){return B})),n.d(i,"copy",(function(){return R})),n.d(i,"set",(function(){return T})),n.d(i,"add",(function(){return L})),n.d(i,"subtract",(function(){return U})),n.d(i,"multiply",(function(){return W})),n.d(i,"divide",(function(){return q})),n.d(i,"ceil",(function(){return H})),n.d(i,"floor",(function(){return F})),n.d(i,"min",(function(){return $})),n.d(i,"max",(function(){return K})),n.d(i,"round",(function(){return z})),n.d(i,"scale",(function(){return N})),n.d(i,"scaleAndAdd",(function(){return V})),n.d(i,"distance",(function(){return Q})),n.d(i,"squaredDistance",(function(){return Z})),n.d(i,"length",(function(){return J})),n.d(i,"squaredLength",(function(){return G})),n.d(i,"negate",(function(){return Y})),n.d(i,"inverse",(function(){return X})),n.d(i,"normalize",(function(){return ee})),n.d(i,"dot",(function(){return te})),n.d(i,"cross",(function(){return ne})),n.d(i,"lerp",(function(){return re})),n.d(i,"random",(function(){return ie})),n.d(i,"transformMat2",(function(){return oe})),n.d(i,"transformMat2d",(function(){return se})),n.d(i,"transformMat3",(function(){return ae})),n.d(i,"transformMat4",(function(){return ce})),n.d(i,"rotate",(function(){return ue})),n.d(i,"angle",(function(){return le})),n.d(i,"zero",(function(){return fe})),n.d(i,"str",(function(){return _e})),n.d(i,"exactEquals",(function(){return pe})),n.d(i,"equals",(function(){return de})),n.d(i,"len",(function(){return be})),n.d(i,"sub",(function(){return ye})),n.d(i,"mul",(function(){return me})),n.d(i,"div",(function(){return ge})),n.d(i,"dist",(function(){return Oe})),n.d(i,"sqrDist",(function(){return Ee})),n.d(i,"sqrLen",(function(){return ve})),n.d(i,"forEach",(function(){return we}));var o="undefined"!=typeof Float32Array?Float32Array:Array,s=Math.random;Math.PI;function a(){var e=new o(6);return o!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function c(e){var t=new o(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function f(e,t,n,r,i,s){var a=new o(6);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=s,a}function _(e,t,n,r,i,o,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e}function p(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],c=n*o-r*i;return c?(c=1/c,e[0]=o*c,e[1]=-r*c,e[2]=-i*c,e[3]=n*c,e[4]=(i*a-o*s)*c,e[5]=(r*s-n*a)*c,e):null}function d(e){return e[0]*e[3]-e[1]*e[2]}function h(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1],f=n[2],_=n[3],p=n[4],d=n[5];return e[0]=r*u+o*l,e[1]=i*u+s*l,e[2]=r*f+o*_,e[3]=i*f+s*_,e[4]=r*p+o*d+a,e[5]=i*p+s*d+c,e}function b(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*u,e[1]=i*l+s*u,e[2]=r*-u+o*l,e[3]=i*-u+s*l,e[4]=a,e[5]=c,e}function y(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r*u,e[1]=i*u,e[2]=o*l,e[3]=s*l,e[4]=a,e[5]=c,e}function m(e,t,n){var r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=n[0],l=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=r*u+o*l+a,e[5]=i*u+s*l+c,e}function g(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function O(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function E(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function v(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function w(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function M(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function k(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function j(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function S(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function P(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=t[0],u=t[1],l=t[2],f=t[3],_=t[4],p=t[5];return Math.abs(n-c)<=1e-6*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-u)<=1e-6*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-l)<=1e-6*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-f)<=1e-6*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-_)<=1e-6*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(a-p)<=1e-6*Math.max(1,Math.abs(a),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var A=h,D=k;function C(){var e=new o(2);return o!=Float32Array&&(e[0]=0,e[1]=0),e}function I(e){var t=new o(2);return t[0]=e[0],t[1]=e[1],t}function B(e,t){var n=new o(2);return n[0]=e,n[1]=t,n}function R(e,t){return e[0]=t[0],e[1]=t[1],e}function T(e,t,n){return e[0]=t,e[1]=n,e}function L(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function U(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function W(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function q(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function H(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function F(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function $(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function K(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function z(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function N(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function V(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function Q(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function Z(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function J(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function G(e){var t=e[0],n=e[1];return t*t+n*n}function Y(e,t){return e[0]=-t[0],e[1]=-t[1],e}function X(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function ee(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function te(e,t){return e[0]*t[0]+e[1]*t[1]}function ne(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function re(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function ie(e,t){t=t||1;var n=2*s()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function oe(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function se(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function ae(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function ce(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function ue(e,t,n,r){var i=t[0]-n[0],o=t[1]-n[1],s=Math.sin(r),a=Math.cos(r);return e[0]=i*a-o*s+n[0],e[1]=i*s+o*a+n[1],e}function le(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),a=s&&(n*i+r*o)/s;return Math.acos(Math.min(Math.max(a,-1),1))}function fe(e){return e[0]=0,e[1]=0,e}function _e(e){return"vec2("+e[0]+", "+e[1]+")"}function pe(e,t){return e[0]===t[0]&&e[1]===t[1]}function de(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))}var he,be=J,ye=U,me=W,ge=q,Oe=Q,Ee=Z,ve=G,we=(he=C(),function(e,t,n,r,i,o){var s,a;for(t||(t=2),n||(n=0),a=r?Math.min(r*t+n,e.length):e.length,s=n;s<a;s+=t)he[0]=e[s],he[1]=e[s+1],i(he,he,o),e[s]=he[0],e[s+1]=he[1];return e})},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n(14);class o{constructor(e=null,t,n){this.outer=e,this.data={},this.name="let",this.root===this&&(this.bindings=[]),n&&(this.exps=n),t&&n&&this.bindAll(t,n)}get root(){return this.outer?this.outer.root:this}getMergedData(){var e;const t=(null===(e=this.outer)||void 0===e?void 0:e.getMergedData())||{};return Object.assign(Object.assign({},t),this.data)}getAllSymbols(){return Object.keys(this.getMergedData())}bindAll(e,t){if(Object(r.C)(e))this.set(e,t);else for(let n=0;n<e.length;n++){const o=e[n];if(Object(r.C)(o)&&"&"===o.value){this.set(e[n+1],t.slice(n));break}if(Array.isArray(o)){if(!Array.isArray(t[n]))throw new r.a(`Error: destruction parameter ${Object(i.a)(o,!0,!1)} is not specified as list`);this.bindAll(o,t[n])}else if(Object(r.A)(o)){if(!Object(r.A)(t[n]))throw new r.a(`Error: destruction parameter '${Object(i.a)(o,!0,!1)}'} is not specified as map`);const e=Object.entries(o),s=[],a=[];for(const[i,o]of e){if(!(i in t[n]))throw new r.a(`ERROR: destruction keyword :${i.slice(1)} does not exist on the parameter`);s.push(o),a.push(t[n][i])}this.bindAll(s,a)}else{if(void 0===t[n])throw new r.a(`Error: parameter '${o}' is not specified`);this.set(o,t[n])}}}set(e,t){return this.data[e.value]=t,t}find(e){const t=this.root.bindings;if(t.length>0){const n=t[t.length-1].find(e);if(void 0!==n)return n}if(this.data.hasOwnProperty(e.value))return this.data[e.value];let n;return"%"===e.value[0]&&this.exps&&this.exps.length>=(n=parseInt(e.value.slice(1))||0)?this.exps[n]:null!==this.outer?this.outer.find(e):void 0}hasOwn(e){return this.data.hasOwnProperty(e.value)}get(e){const t=this.find(e);if(void 0===t)throw new r.a(`Symbol ${e} not found`);return t}getChain(){let e=this;const t=[...this.root.bindings.reverse()];do{t.push(e),e=e.outer}while(e);return t}setOuter(e){this.outer=e}pushBinding(e){const t=this.root.bindings,n=t.length>0?t[t.length-1]:null;return e.name="binding",e.outer=n,t.push(e),e}popBinding(){this.root.bindings.pop()}}},function(e,t,n){"use strict";e.exports=!("undefined"==typeof process||!process.versions||!process.versions.node)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return y}));var r=n(0);n(2);const i=Object(r.H)("quote"),o=Object(r.H)("quasiquote"),s=Object(r.H)("unquote"),a=Object(r.H)("splice-unquote"),c=Object(r.H)("fn-sugar"),u=Object(r.H)("with-meta-sugar"),l=Object(r.H)("deref");class f{constructor(e,t){this.tokens=[...e],this.str=t,this.strlen=t.length,this._index=0}next(){const e=this.tokens[this._index++];return Array.isArray(e)?e[0]:e}peek(e=this._index){const t=this.tokens[e];return Array.isArray(t)?t[0]:t}get index(){return this._index}getStr(e,t){return this.str.slice(e,t)}offset(e=this._index){const t=this.tokens[e];return void 0!==t?t[1]:this.strlen}endOffset(e=this._index){const t=this.tokens[e];return void 0!==t?t[1]+t[0].length:this.strlen}prevEndOffset(){return this.endOffset(this._index-1)}}function _(e,t,n="(",i=")"){const o=[];let s=null,a=null,c=e.next();if(c!==n)throw new r.a(`[READ] expected '${n}'`);t&&(s=[],a=[]);let u=0;for(;(c=e.peek())!==i;){if(!c)throw new r.a(`[READ] expected '${i}', got EOF`);if(t){const t=e.getStr(e.prevEndOffset(),e.offset());null==a||a.push(t),u=e.offset()}if(o.push(d(e,t)),t){const t=e.getStr(u,e.prevEndOffset());null==s||s.push(t)}}if(t){const t=e.getStr(e.prevEndOffset(),e.offset());null==a||a.push(t),o[r.c]=a,o[r.d]=s}return e.next(),o}function p(e,t){return Object(r.F)(_(e,t,"[","]"))}function d(e,t){let n;const f=e.index;let h=null;switch(e.peek()){case";":n=null;break;case"'":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[i,d(e,t)];break;case"`":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[o,d(e,t)];break;case"~":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[s,d(e,t)];break;case"~@":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[a,d(e,t)];break;case"#":{e.next();const i=e.peek();if("("===i)t&&(h=[e.prevEndOffset(),e.offset()]),n=[c,d(e,t)];else if('"'===i[0]){t&&(h=[e.prevEndOffset(),e.offset()]);const i=d(e,t);h&&h.push(e.prevEndOffset(),e.offset());const o=d(e,t);n=[Object(r.H)("set-id"),i,o]}else switch(i){case"f32":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[Object(r.H)("f32"),p(e,t)]}break}case"^":{e.next(),t&&(h=[e.prevEndOffset(),e.offset()]);const r=d(e,t);h&&h.push(e.prevEndOffset(),e.offset());const i=d(e,t);n=[u,r,i];break}case"@":e.next(),t&&(h=[e.prevEndOffset(),e.offset()]),n=[l,d(e,t)];break;case")":throw new r.a("unexpected ')'");case"(":n=_(e,t);break;case"]":throw new Error("unexpected ']'");case"[":n=p(e,t);break;case"}":throw new Error("unexpected '}'");case"{":n=function(e,t){const n=_(e,t,"{","}"),i=Object(r.p)({},...n);if(t){const e=[],t=[];for(let i=0;i<n.length;i+=2)e.push(n[i]),t.push(n[r.d][i+1]);i[r.k]=e,i[r.d]=t,i[r.c]=n[r.c]}return i}(e,t);break;default:n=function(e){const t=e.next();if("string"==typeof t){if(t.match(/^[-+]?[0-9]+$/))return parseInt(t,10);if(t.match(/^[-+]?([0-9]*\.[0-9]+|[0-9]+)$/))return parseFloat(t);if(t.match(/^"(?:\\.|[^\\"])*"$/))return t.slice(1,t.length-1).replace(/\\(.)/g,(e,t)=>"n"===t?"\n":t);if('"'===t[0])throw new r.a("[READ] expected '\"', got EOF");return":"===t[0]?Object(r.E)(t.slice(1)):"nil"===t?null:"true"===t||"false"!==t&&Object(r.H)(t)}return t}(e)}if(h){const t=e.peek(f),i=e.prevEndOffset();n[r.j]=!0;const o=[""],s=[t];h.push(i);for(let t=0;t<h.length-1;t+=2)o.push(e.getStr(h[t],h[t+1])),s.push(e.getStr(h[t+1],h[t+2]));o.push(""),n[r.c]=o,n[r.d]=s}return n}class h extends Error{}function b(e,t,n){if(Object(r.z)(e)&&!(r.l in e)){Object(r.z)(t)&&void 0!==n&&(e[r.l]=t,e[r.m]=n),Object(r.A)(e)&&!(r.k in e)&&(e[r.k]=Object.keys(e));const i=Array.isArray(e)?e:Object(r.A)(e)?e[r.k].map(t=>e[t]):null;i&&i.forEach((t,n)=>b(t,e,n))}}function y(e,t=!1){const n=function(e,t=!1){const n=/[\s,]*(~@|[\[\]{}()'`~^@#]|"(?:\\.|[^\\"])*"|;.*|[^\s\[\]{}('"`,;)]*)/g;let r=null;const i=/^[\s,]*/;let o=null,s=null;const a=[];for(;(r=n.exec(e))&&""!=r[1];)";"!==r[1][0]&&(t?(o=i.exec(r[0]),s=o?o[0].length:0,a.push([r[1],r.index+s])):a.push(r[1]));return a}(e,t);if(0===n.length)throw new h;const i=new f(n,e),o=d(i,t);if(i.index<n.length-1)throw new r.a("Invalid end of file");return t&&b(o,null),o}},,,function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},,function(e,t,n){"use strict";n(8);var r=n(2);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(0),i=n(6),o=(n(8),n(3)),s=n(14);const a=Object(r.H)("def"),c=Object(r.H)("let"),u=Object(r.H)("binding"),l=Object(r.H)("if"),f=Object(r.H)("do"),_=Object(r.H)("fn"),p=Object(r.H)("artboard"),d=Object(r.H)("style"),h=Object(r.H)("transform"),b=Object(r.H)("get-all-symbols"),y=Object(r.H)("fn-params"),m=Object(r.H)("fn-sugar"),g=Object(r.H)("macro"),O=Object(r.H)("macroexpand"),E=Object(r.H)("quote"),v=Object(r.H)("unquote"),w=Object(r.H)("quasiquote"),M=Object(r.H)("splice-unquote"),k=Object(r.H)("try"),j=Object(r.H)("catch"),x=Object(r.H)("concat"),S=Object(r.H)("env-chain"),P=Object(r.H)("eval-in-env");function A(e){if(Object(r.A)(e)){const t={};for(const[n,r]of Object.entries(e))t[n]=A(r);return t}if(!n(e))return[E,e];if(e[0]===v)return e[1];let t=[x,...e.map(e=>n(e)&&e[0]===M?e[1]:Object(r.F)([A(e)]))];return t=Object(r.D)(e)?[Object(r.H)("vec"),t]:t,t;function n(e){return Array.isArray(e)&&e.length>0}}function D(e,t,n){for(;Object(r.x)(e)&&Object(r.C)(e[0])&&t.find(e[0]);){const i=t.get(e[0]);if(!Object(r.y)(i)||!i[r.i])break;e[r.h]=i;const o=e.slice(1);n&&(e[r.f]=o),e=i(...o)}return e}function C(e,t,n){if(Object(r.C)(e))return t.get(e);if(Array.isArray(e)){const i=e.map(e=>{const i=I(e,t,n);return n&&Object(r.z)(e)&&(e[r.e]=i),i});return n&&(e[r.e]=i),Object(r.D)(e)?Object(r.F)(i):i}if(Object(r.A)(e)){const i={};for(const o in e){const s=I(e[o],t,n);n&&Object(r.z)(e[o])&&(e[o][r.e]=s),i[o]=s}return n&&(e[r.e]=i),i}return e}function I(e,t,n=!1){let v=0;for(;v++<1e6;){if(!Object(r.x)(e))return C(e,t,n);const v=D(e,t,n);if(n&&e!==v&&(e[r.g]=v),e=v,!Object(r.x)(e))return C(e,t,n);if(0===e.length)return e;const[M,x,B,R]=e;switch(M){case a:{if(void 0===B||void 0===x)throw new r.a("Invalid form of def");const i=t.set(x,I(B,t,n));return n&&(e[r.h]=t.get(a),e[r.e]=i),i}case c:{const o=new i.a(t);if(!Array.isArray(x))throw new r.a("Invalid bind-expr in let");const s=x;for(let e=0;e<s.length;e+=2)o.bindAll(s[e],I(s[e+1],o,n));t=o;const a=3===e.length?B:[f,...e.slice(2)];n&&(e[r.e]=a,e[r.h]=t.get(c)),e=a;break}case u:{const o=new i.a,s=x;for(let e=0;e<s.length;e+=2)o.bindAll(s[e],I(s[e+1],t,n));let a;t.pushBinding(o);try{a=I([f,...e.slice(2)],t,n)}finally{t.popBinding()}return n&&(e[r.e]=a),a}case h:{const s=I(x,t,n),a=e.slice(2),c=new i.a;let u;c.set(Object(r.H)("*transform*"),o.a.mul(o.a.create(),t.get(Object(r.H)("*transform*")),s)),t.pushBinding(c);try{u=Object(r.F)([Object(r.E)("transform"),s,...a.map(e=>I(e,t,n))])}finally{t.popBinding()}return n&&(e[r.e]=u),u}case d:{const o=I(x,t,n),s=Array.isArray(o)?o.reduce((e,t)=>Object.assign(Object.assign({},e),t),{}):o,a=e.slice(2),c=new i.a;for(const[e,t]of Object.entries(s)){const n=Object(r.H)(`*${e.slice(1)}*`);c.set(n,t)}let u;t.pushBinding(c);try{u=Object(r.F)([Object(r.E)("style"),o,...a.map(e=>I(e,t,n))])}finally{t.popBinding()}return n&&(e[r.e]=u),u}case p:{const o=I(x,t,n),s=o[Object(r.E)("bounds")],a=o[Object(r.E)("background")];if(!Array.isArray(s)||s.length<4)throw new r.a("Invalid bounds");const[c,u,l,f]=s,_=new i.a;_.set(Object(r.H)("*size*"),Object(r.F)([l,f])),_.set(Object(r.H)("*width*"),l),_.set(Object(r.H)("*height*"),f),_.set(Object(r.H)("*inside-artboard*"),!0),a&&_.set(Object(r.H)("*background*"),a),t.pushBinding(_);const p=I(Object(r.F)(e.slice(2)),t,n);let d;try{d=I(Object(r.F)([Object(r.E)("artboard"),Object(r.F)([...s]),[Object(r.H)("transform"),Object(r.F)([1,0,0,1,c,u]),...a?[Object(r.F)([Object(r.E)("background"),a,!0])]:[],...p,[Object(r.H)("guide/stroke"),[Object(r.H)("rect"),Object(r.F)([.5,.5]),Object(r.F)([l-1,f-1])]]]]),t,n)}finally{t.popBinding()}return n&&(e[r.e]=d,e[r.h]=t.get(Object(r.H)("artboard")),e[r.f]=[o,...p]),d}case b:{const i=Object(r.F)(t.getAllSymbols());return n&&(e[r.e]=i),i}case Object(r.H)("var"):{const i=t.get(x);return n&&(e[r.e]=i),i}case y:{const i=I(x,t,!0),o=Object(r.y)(i)?Object(r.F)([...i[r.n]]):null;return n&&(e[r.e]=o),o}case P:{const e=I(x,t,!0);return I(e,t,!0)}case E:return x;case w:e=A(x);break;case _:if(!Array.isArray(x))throw new r.a("First argument of fn should be list");if(void 0===B)throw new r.a("Second argument of fn should be specified");return Object(r.r)((...e)=>I(B,new i.a(t,x,e),n),B,t,x);case m:return Object(r.r)((...e)=>I(x,new i.a(t,[],e),n),x,t,[]);case g:{const e=[_,x,B],i=Object(r.q)(I(e,t,n));return i[r.i]=!0,i}case O:{const i=D(x,t,n);return n&&(e[r.e]=i),i}case k:try{const i=I(x,t,n);return n&&(e[r.e]=i),i}catch(o){let s=o;if(B&&Array.isArray(B)&&B[0]===j){o instanceof Error&&(s=o.message);const a=I(B[2],new i.a(t,[B[1]],[s]),n);return n&&(e[r.e]=a),a}throw s}case f:{if(n&&(e[r.h]=t.get(f)),1===e.length)return null;C(e.slice(1,-1),t,n);const i=e[e.length-1];n&&(e[r.e]=i,e[r.g]=i),e=i;break}case l:{const i=I(x,t,n)?B:void 0!==R?R:null;n&&(e[r.e]=B,e[r.h]=t.get(l),e[r.g]=B),e=i;break}case S:{const n=t.getChain();e=[Object(r.H)("println"),n.map(e=>e.name).join(" <- ")];break}default:{const[i,...o]=C(e,t,n);if(i instanceof Function){e[r.f]=o;const t=i(...o);return n&&(e[r.e]=t,e[r.h]=i),t}{let e="";throw Object(r.w)(i)?e="Keyword ":Array.isArray(i)&&(e="List "),new r.a(`[EVAL] ${e} ${Object(s.a)(i)} is not a function. First element of list always should be a function.`)}}}}if(v>=1e6)throw new Error("[EVAL] Exceed the maximum TCO stacks");return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);__webpack_exports__.a={resolveJS(str){if(str.match(/\./)){const match=/^(.*)\.[^\.]*$/.exec(str);if(null===match)throw new _types__WEBPACK_IMPORTED_MODULE_0__.a("[interop.resolveJS] Cannot resolve");return[eval(match[1]),eval(str)]}return[globalThis,eval(str)]},jsToMal(e){if(null==e)return null;const t=[],n=JSON.stringify(e,(e,n)=>{if("object"==typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n});return JSON.parse(n)}}},,,,,,,,function(e,t){e.exports=require("crypto")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return slurp}));var sprintf_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),sprintf_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_0__),is_node__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),is_node__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(is_node__WEBPACK_IMPORTED_MODULE_1__),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_printer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_reader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_interop__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16);const slurp=(()=>{if(is_node__WEBPACK_IMPORTED_MODULE_1___default.a){const e=__webpack_require__(12);return t=>e.readFileSync(t,"UTF-8")}return e=>{const t=new XMLHttpRequest,n=e+(/\?/.test(e)?"&":"?")+(new Date).getTime();if(t.open("GET",n,!1),t.send(),200!==t.status)throw new _types__WEBPACK_IMPORTED_MODULE_2__.a(`Failed to slurp file: ${e}`);return t.responseText}})();function jsEval(str){return _interop__WEBPACK_IMPORTED_MODULE_5__.a.jsToMal(eval(str.toString()))}function jsMethodCall(e,...t){const[n,r]=_interop__WEBPACK_IMPORTED_MODULE_5__.a.resolveJS(e),i=r.apply(n,t);return _interop__WEBPACK_IMPORTED_MODULE_5__.a.jsToMal(i)}const Exports=[["throw",e=>{throw new _types__WEBPACK_IMPORTED_MODULE_2__.a(e)}],["prn",(...e)=>(_printer__WEBPACK_IMPORTED_MODULE_3__.b.log(...e.map(e=>Object(_printer__WEBPACK_IMPORTED_MODULE_3__.a)(e,!0))),null)],["println",(...e)=>(_printer__WEBPACK_IMPORTED_MODULE_3__.b.log(...e.map(e=>Object(_printer__WEBPACK_IMPORTED_MODULE_3__.a)(e,!1))),null)],["read-string",_reader__WEBPACK_IMPORTED_MODULE_4__.b],["slurp",slurp],["js-eval",jsEval],[".",jsMethodCall],["format",(e,...t)=>Object(sprintf_js__WEBPACK_IMPORTED_MODULE_0__.vsprintf)(e,t)],["*is-node*",is_node__WEBPACK_IMPORTED_MODULE_1___default.a],["*host-language*","JavaScript"]];__webpack_exports__.a=Exports},,,,,function(e,t,n){"use strict";var r,i,o,s,a,c,u="win32"===process.platform,l="The current environment doesn't support interactive reading from TTY.",f=n(12),_=process.binding("tty_wrap").TTY,p=n(38),d=n(11),h={prompt:"> ",hideEchoBack:!1,mask:"*",limit:[],limitMessage:"Input another, please.$<( [)limit(])>",defaultInput:"",trueValue:[],falseValue:[],caseSensitive:!1,keepWhitespace:!1,encoding:"utf8",bufferSize:1024,print:void 0,history:!0,cd:!1,phContent:void 0,preCheck:void 0},b="none",y=!1,m=0,g="",O=[],E=!1,v=!1,w=!1;function M(e){return s.concat((t={display:"string",displayOnly:"boolean",keyIn:"boolean",hideEchoBack:"boolean",mask:"string",limit:"string",caseSensitive:"boolean"},n=[],Object.keys(t).forEach((function(r){"boolean"===t[r]?e[r]&&n.push("--"+r):"string"===t[r]&&e[r]&&n.push("--"+r,e[r].replace(/[^\w\u0080-\uFFFF]/g,(function(e){return"#"+e.charCodeAt(0)+";"})))})),n));var t,n}function k(e){var t,r,i={},c={env:process.env,encoding:e.encoding};if(o||(u?process.env.PSModulePath?(o="powershell.exe",s=["-ExecutionPolicy","Bypass","-File",__dirname+"\\read.ps1"]):(o="cscript.exe",s=["//nologo",__dirname+"\\read.cs.js"]):(o="/bin/sh",s=[__dirname+"/read.sh"])),u&&!process.env.PSModulePath&&(c.stdio=[process.stdin]),p.execFileSync){t=M(e),w&&w("execFileSync",t);try{i.input=p.execFileSync(o,t,c)}catch(e){r=e.stderr?(e.stderr+"").trim():"",i.error=new Error(l+(r?"\n"+r:"")),i.error.method="execFileSync",i.error.program=o,i.error.args=t,i.error.extMessage=r,i.error.exitCode=e.status,i.error.code=e.code,i.error.signal=e.signal}}else i=function(e,t){function r(e){var t,r,i="";for(a=a||n(39).tmpdir();;){t=d.join(a,e+i);try{r=f.openSync(t,"wx")}catch(e){if("EEXIST"===e.code){i++;continue}throw e}f.closeSync(r);break}return t}var i,s,c,_,h,b,y,g,O={},E=r("readline-sync.stdout"),v=r("readline-sync.stderr"),k=r("readline-sync.exit"),j=r("readline-sync.done"),x=n(24);(b=x.createHash("sha256")).update(""+process.pid+m+++Math.random()),g=b.digest("hex"),y=x.createDecipher("aes-256-cbc",g),i=M(e),u?(s=process.env.ComSpec||"cmd.exe",process.env.Q='"',c=["/V:ON","/S","/C","(%Q%"+s+"%Q% /V:ON /S /C %Q%%Q%"+o+"%Q%"+i.map((function(e){return" %Q%"+e+"%Q%"})).join("")+" & (echo !ERRORLEVEL!)>%Q%"+k+"%Q%%Q%) 2>%Q%"+v+"%Q% |%Q%"+process.execPath+"%Q% %Q%"+__dirname+"\\encrypt.js%Q% %Q%aes-256-cbc%Q% %Q%"+g+"%Q% >%Q%"+E+"%Q% & (echo 1)>%Q%"+j+"%Q%"]):(s="/bin/sh",c=["-c",'("'+o+'"'+i.map((function(e){return" '"+e.replace(/'/g,"'\\''")+"'"})).join("")+'; echo $?>"'+k+'") 2>"'+v+'" |"'+process.execPath+'" "'+__dirname+'/encrypt.js" "aes-256-cbc" "'+g+'" >"'+E+'"; echo 1 >"'+j+'"']),w&&w("_execFileSync",i);try{p.spawn(s,c,t)}catch(e){O.error=new Error(e.message),O.error.method="_execFileSync - spawn",O.error.program=s,O.error.args=c}for(;"1"!==f.readFileSync(j,{encoding:e.encoding}).trim(););return"0"===(_=f.readFileSync(k,{encoding:e.encoding}).trim())?O.input=y.update(f.readFileSync(E,{encoding:"binary"}),"hex",e.encoding)+y.final(e.encoding):(h=f.readFileSync(v,{encoding:e.encoding}).trim(),O.error=new Error(l+(h?"\n"+h:"")),O.error.method="_execFileSync",O.error.program=s,O.error.args=c,O.error.extMessage=h,O.error.exitCode=+_),f.unlinkSync(E),f.unlinkSync(v),f.unlinkSync(k),f.unlinkSync(j),O}(e,c);return i.error||(i.input=i.input.replace(/^\s*'|'\s*$/g,""),e.display=""),i}function j(e){var t="",n=e.display,o=!e.display&&e.keyIn&&e.hideEchoBack&&!e.mask;function s(){var t=k(e);if(t.error)throw t.error;return t.input}return v&&v(e),function(){var e,t,n;function o(){return e||(e=process.binding("fs"),t=(t=process.binding("constants"))&&t.fs&&"number"==typeof t.fs.O_RDWR?t.fs:t),e}if("string"==typeof b)if(b=null,u){if((n=function(e){var t=process.version.replace(/^\D+/,"").split("."),n=0;return(t[0]=+t[0])&&(n+=1e4*t[0]),(t[1]=+t[1])&&(n+=100*t[1]),(t[2]=+t[2])&&(n+=t[2]),n}())>=20302&&n<40204||n>=5e4&&n<50100||n>=50600&&n<60200||!process.stdin.isTTY)try{b=o().open("CONIN$",t.O_RDWR,parseInt("0666",8)),i=new _(b,!0)}catch(e){}else process.stdin.pause(),b=process.stdin.fd,i=process.stdin._handle;if(process.stdout.isTTY)r=process.stdout.fd;else{try{r=f.openSync("\\\\.\\CON","w")}catch(e){}if("number"!=typeof r)try{r=o().open("CONOUT$",t.O_RDWR,parseInt("0666",8))}catch(e){}}}else{if(process.stdin.isTTY){process.stdin.pause();try{b=f.openSync("/dev/tty","r"),i=process.stdin._handle}catch(e){}}else try{b=f.openSync("/dev/tty","r"),i=new _(b,!1)}catch(e){}if(process.stdout.isTTY)r=process.stdout.fd;else try{r=f.openSync("/dev/tty","w")}catch(e){}}}(),function(){var n,a,u,l,_,p,d,h=!e.hideEchoBack&&!e.keyIn;function m(e){return e===y||0===i.setRawMode(e)&&(y=e,!0)}if(c="",!E&&i&&("number"==typeof r||!e.display&&h)){if(e.display&&(f.writeSync(r,e.display),e.display=""),!e.displayOnly)if(m(!h)){for(l=e.keyIn?1:e.bufferSize,u=Buffer.allocUnsafe&&Buffer.alloc?Buffer.alloc(l):new Buffer(l),e.keyIn&&e.limit&&(a=new RegExp("[^"+e.limit+"]","g"+(e.caseSensitive?"":"i")));;){_=0;try{_=f.readSync(b,u,0,l)}catch(e){if("EOF"!==e.code)return m(!1),void(t+=s())}if(_>0?(p=u.toString(e.encoding,0,_),c+=p):(p="\n",c+=String.fromCharCode(0)),p&&"string"==typeof(d=(p.match(/^(.*?)[\r\n]/)||[])[1])&&(p=d,n=!0),p&&(p=p.replace(/[\x00-\x08\x0b\x0c\x0e-\x1f\x7f]/g,"")),p&&a&&(p=p.replace(a,"")),p&&(h||(e.hideEchoBack?e.mask&&f.writeSync(r,new Array(p.length+1).join(e.mask)):f.writeSync(r,p)),t+=p),!e.keyIn&&n||e.keyIn&&t.length>=l)break}h||o||f.writeSync(r,"\n"),m(!1)}else t=s()}else t=s()}(),e.print&&!o&&e.print(n+(e.displayOnly?"":(e.hideEchoBack?new Array(t.length+1).join(e.mask):t)+"\n"),e.encoding),e.displayOnly?"":g=e.keepWhitespace||e.keyIn?t:t.trim()}function x(e,t){var n=[];return function e(r){null!=r&&(Array.isArray(r)?r.forEach(e):t&&!t(r)||n.push(r))}(e),n}function S(e){return e.replace(/[\x00-\x7f]/g,(function(e){return"\\x"+("00"+e.charCodeAt().toString(16)).substr(-2)}))}function P(){var e,t,n=Array.prototype.slice.call(arguments);return n.length&&"boolean"==typeof n[0]&&(t=n.shift())&&(e=Object.keys(h),n.unshift(h)),n.reduce((function(n,r){return null==r||(r.hasOwnProperty("noEchoBack")&&!r.hasOwnProperty("hideEchoBack")&&(r.hideEchoBack=r.noEchoBack,delete r.noEchoBack),r.hasOwnProperty("noTrim")&&!r.hasOwnProperty("keepWhitespace")&&(r.keepWhitespace=r.noTrim,delete r.noTrim),t||(e=Object.keys(r)),e.forEach((function(e){var t;if(r.hasOwnProperty(e))switch(t=r[e],e){case"mask":case"limitMessage":case"defaultInput":case"encoding":(t=null!=t?t+"":"")&&"limitMessage"!==e&&(t=t.replace(/[\r\n]/g,"")),n[e]=t;break;case"bufferSize":isNaN(t=parseInt(t,10))||"number"!=typeof t||(n[e]=t);break;case"displayOnly":case"keyIn":case"hideEchoBack":case"caseSensitive":case"keepWhitespace":case"history":case"cd":n[e]=!!t;break;case"limit":case"trueValue":case"falseValue":n[e]=x(t,(function(e){var t=typeof e;return"string"===t||"number"===t||"function"===t||e instanceof RegExp})).map((function(e){return"string"==typeof e?e.replace(/[\r\n]/g,""):e}));break;case"print":case"phContent":case"preCheck":n[e]="function"==typeof t?t:void 0;break;case"prompt":case"display":n[e]=null!=t?t:""}}))),n}),{})}function A(e,t,n){return t.some((function(t){var r=typeof t;return"string"===r?n?e===t:e.toLowerCase()===t.toLowerCase():"number"===r?parseFloat(e)===t:"function"===r?t(e):t instanceof RegExp&&t.test(e)}))}function D(e,t){var n=d.normalize(u?(process.env.HOMEDRIVE||"")+(process.env.HOMEPATH||""):process.env.HOME||"").replace(/[/\\]+$/,"");return e=d.normalize(e),t?e.replace(/^~(?=\/|\\|$)/,n):e.replace(new RegExp("^"+S(n)+"(?=\\/|\\\\|$)",u?"i":""),"~")}function C(e,t){var n="(?:\\(([\\s\\S]*?)\\))?(\\w+|.-.)(?:\\(([\\s\\S]*?)\\))?",r=new RegExp("(\\$)?(\\$<"+n+">)","g"),i=new RegExp("(\\$)?(\\$\\{"+n+"\\})","g");function o(e,n,r,i,o,s){var a;return n||"string"!=typeof(a=t(o))?r:a?(i||"")+a+(s||""):""}return e.replace(r,o).replace(i,o)}function I(e,t,n){var r,i,o=[],s=-1,a=0,c="";function u(e,t){return t.length>3?(e.push(t[0]+"..."+t[t.length-1]),i=!0):t.length&&(e=e.concat(t)),e}return r=e.reduce((function(e,t){return e.concat((t+"").split(""))}),[]).reduce((function(e,r){var i,l;return t||(r=r.toLowerCase()),i=/^\d$/.test(r)?1:/^[A-Z]$/.test(r)?2:/^[a-z]$/.test(r)?3:0,n&&0===i?c+=r:(l=r.charCodeAt(0),i&&i===s&&l===a+1?o.push(r):(e=u(e,o),o=[r],s=i),a=l),e}),[]),r=u(r,o),c&&(r.push(c),i=!0),{values:r,suppressed:i}}function B(e,t){return e.join(e.length>2?", ":t?" / ":"/")}function R(e,t){var n,r,i,o={};if(t.phContent&&(n=t.phContent(e,t)),"string"!=typeof n)switch(e){case"hideEchoBack":case"mask":case"defaultInput":case"caseSensitive":case"keepWhitespace":case"encoding":case"bufferSize":case"history":case"cd":n=t.hasOwnProperty(e)?"boolean"==typeof t[e]?t[e]?"on":"off":t[e]+"":"";break;case"limit":case"trueValue":case"falseValue":r=t[t.hasOwnProperty(e+"Src")?e+"Src":e],n=B(r=t.keyIn?(o=I(r,t.caseSensitive)).values:r.filter((function(e){var t=typeof e;return"string"===t||"number"===t})),o.suppressed);break;case"limitCount":case"limitCountNotZero":n=(n=t[t.hasOwnProperty("limitSrc")?"limitSrc":"limit"].length)||"limitCountNotZero"!==e?n+"":"";break;case"lastInput":n=g;break;case"cwd":case"CWD":case"cwdHome":n=process.cwd(),"CWD"===e?n=d.basename(n):"cwdHome"===e&&(n=D(n));break;case"date":case"time":case"localeDate":case"localeTime":n=(new Date)["to"+e.replace(/^./,(function(e){return e.toUpperCase()}))+"String"]();break;default:"string"==typeof(i=(e.match(/^history_m(\d+)$/)||[])[1])&&(n=O[O.length-i]||"")}return n}function T(e){var t,n,r,i,o=/^(.)-(.)$/.exec(e),s="";if(!o)return null;for(i=(t=o[1].charCodeAt(0))<(n=o[2].charCodeAt(0))?1:-1,r=t;r!==n+i;r+=i)s+=String.fromCharCode(r);return s}function L(e){var t,n,r=new RegExp(/(\s*)(?:("|')(.*?)(?:\2|$)|(\S+))/g),i="",o=[];for(e=e.trim();t=r.exec(e);)n=t[3]||t[4]||"",t[1]&&(o.push(i),i=""),i+=n;return i&&o.push(i),o}function U(e,t){return!(!t.trueValue.length||!A(e,t.trueValue,t.caseSensitive))||(!t.falseValue.length||!A(e,t.falseValue,t.caseSensitive))&&e}function W(e){var t,n,r,i,o,s,a;function c(t){return R(t,e)}function u(t){e.display+=(/[^\r\n]$/.test(e.display)?"\n":"")+t}for(e.limitSrc=e.limit,e.displaySrc=e.display,e.limit="",e.display=C(e.display+"",c);;){if(t=j(e),n=!1,r="",e.defaultInput&&!t&&(t=e.defaultInput),e.history&&((i=/^\s*!(?:!|-1)(:p)?\s*$/.exec(t))?(o=O[0]||"",i[1]?n=!0:t=o,u(o+"\n"),n||(e.displayOnly=!0,j(e),e.displayOnly=!1)):t&&t!==O[O.length-1]&&(O=[t])),!n&&e.cd&&t)switch((s=L(t))[0].toLowerCase()){case"cd":if(s[1])try{process.chdir(D(s[1],!0))}catch(e){u(e+"")}n=!0;break;case"pwd":u(process.cwd()),n=!0}if(!n&&e.preCheck&&(t=(a=e.preCheck(t,e)).res,a.forceNext&&(n=!0)),!n){if(!e.limitSrc.length||A(t,e.limitSrc,e.caseSensitive))break;e.limitMessage&&(r=C(e.limitMessage,c))}u((r?r+"\n":"")+C(e.displaySrc+"",c))}return U(t,e)}function q(e,n,r){var i;return t.question(e,P({limitMessage:"Input valid number, please."},n,{limit:function(e){return i=r(e),!isNaN(i)&&"number"==typeof i},cd:!1})),i}function H(e,t){var n={},r={};return"object"==typeof e?(Object.keys(e).forEach((function(n){"function"==typeof e[n]&&(r[t.caseSensitive?n:n.toLowerCase()]=e[n])})),n.preCheck=function(e){var i;return n.args=L(e),i=n.args[0]||"",t.caseSensitive||(i=i.toLowerCase()),n.hRes="_"!==i&&r.hasOwnProperty(i)?r[i].apply(e,n.args.slice(1)):r.hasOwnProperty("_")?r._.apply(e,n.args):null,{res:e,forceNext:!1}},r.hasOwnProperty("_")||(n.limit=function(){var e=n.args[0]||"";return t.caseSensitive||(e=e.toLowerCase()),r.hasOwnProperty(e)})):n.preCheck=function(t){return n.args=L(t),n.hRes="function"!=typeof e||e.apply(t,n.args),{res:t,forceNext:!1}},n}function F(e,n,r){var i;return null==e&&(e="Are you sure? "),n&&!1===n.guide||!(e+="")||(e=e.replace(/\s*:?\s*$/,"")+" [y/n]: "),"boolean"==typeof(i=t.keyIn(e,P(n,{hideEchoBack:!1,limit:r,trueValue:"y",falseValue:"n",caseSensitive:!1})))?i:""}function $(e,n){var r;return n.length&&((r={})[e]=n[0]),t.setDefaultOptions(r)[e]}t._DBG_set_useExt=function(e){E=e},t._DBG_set_checkOptions=function(e){v=e},t._DBG_set_checkMethod=function(e){w=e},t._DBG_clearHistory=function(){g="",O=[]},t.setDefaultOptions=function(e){return h=P(!0,e),P(!0)},t.question=function(e,t){return W(P(P(!0,t),{display:e}))},t.prompt=function(e){var t=P(!0,e);return t.display=t.prompt,W(t)},t.keyIn=function(e,t){var n=P(P(!0,t),{display:e,keyIn:!0,keepWhitespace:!0});return n.limitSrc=n.limit.filter((function(e){var t=typeof e;return"string"===t||"number"===t})).map((function(e){return C(e+"",T)})),n.limit=S(n.limitSrc.join("")),["trueValue","falseValue"].forEach((function(e){n[e]=n[e].reduce((function(e,t){var n=typeof t;return"string"===n||"number"===n?e=e.concat((t+"").split("")):e.push(t),e}),[])})),n.display=C(n.display+"",(function(e){return R(e,n)})),U(j(n),n)},t.questionEMail=function(e,n){return null==e&&(e="Input e-mail address: "),t.question(e,P({hideEchoBack:!1,limit:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,limitMessage:"Input valid e-mail address, please.",trueValue:null,falseValue:null},n,{keepWhitespace:!1,cd:!1}))},t.questionNewPassword=function(e,n){var r,i,o,s,a,c,u,l,f,_,p=P({hideEchoBack:!0,mask:"*",limitMessage:"It can include: $<charlist>\nAnd the length must be: $<length>",trueValue:null,falseValue:null,caseSensitive:!0},n,{history:!1,cd:!1,phContent:function(e){return"charlist"===e?r.text:"length"===e?i+"..."+o:null}});for(s=C((n=n||{}).charlist?n.charlist+"":"$<!-~>",T),(isNaN(i=parseInt(n.min,10))||"number"!=typeof i)&&(i=12),(isNaN(o=parseInt(n.max,10))||"number"!=typeof o)&&(o=24),u=new RegExp("^["+S(s)+"]{"+i+","+o+"}$"),(r=I([s],p.caseSensitive,!0)).text=B(r.values,r.suppressed),a=null!=n.confirmMessage?n.confirmMessage:"Reinput a same one to confirm it: ",c=null!=n.unmatchMessage?n.unmatchMessage:"It differs from first one. Hit only the Enter key if you want to retry from first one.",null==e&&(e="Input new password: "),l=p.limitMessage;!_;)p.limit=u,p.limitMessage=l,f=t.question(e,p),p.limit=[f,""],p.limitMessage=c,_=t.question(a,p);return f},t.questionInt=function(e,t){return q(e,t,(function(e){return parseInt(e,10)}))},t.questionFloat=function(e,t){return q(e,t,parseFloat)},t.questionPath=function(e,n){var r,i="",o=P({hideEchoBack:!1,limitMessage:"$<error(\n)>Input valid path, please.$<( Min:)min>$<( Max:)max>",history:!0,cd:!0},n,{keepWhitespace:!1,limit:function(e){var t,o,s;function a(e){e.split(/\/|\\/).reduce((function(e,t){var n=d.resolve(e+=t+d.sep);if(f.existsSync(n)){if(!f.statSync(n).isDirectory())throw new Error("Non directory already exists: "+n)}else f.mkdirSync(n);return e}),"")}e=D(e,!0),i="";try{if(t=f.existsSync(e),r=t?f.realpathSync(e):d.resolve(e),!n.hasOwnProperty("exists")&&!t||"boolean"==typeof n.exists&&n.exists!==t)return i=(t?"Already exists":"No such file or directory")+": "+r,!1;if(!t&&n.create&&(n.isDirectory?a(r):(a(d.dirname(r)),f.closeSync(f.openSync(r,"w"))),r=f.realpathSync(r)),t&&(n.min||n.max||n.isFile||n.isDirectory)){if(o=f.statSync(r),n.isFile&&!o.isFile())return i="Not file: "+r,!1;if(n.isDirectory&&!o.isDirectory())return i="Not directory: "+r,!1;if(n.min&&o.size<+n.min||n.max&&o.size>+n.max)return i="Size "+o.size+" is out of range: "+r,!1}if("function"==typeof n.validate&&!0!==(s=n.validate(r)))return"string"==typeof s&&(i=s),!1}catch(e){return i=e+"",!1}return!0},phContent:function(e){return"error"===e?i:"min"!==e&&"max"!==e?null:n.hasOwnProperty(e)?n[e]+"":""}});return n=n||{},null==e&&(e='Input path (you can "cd" and "pwd"): '),t.question(e,o),r},t.promptCL=function(e,n){var r=P({hideEchoBack:!1,limitMessage:"Requested command is not available.",caseSensitive:!1,history:!0},n),i=H(e,r);return r.limit=i.limit,r.preCheck=i.preCheck,t.prompt(r),i.args},t.promptLoop=function(e,n){for(var r=P({hideEchoBack:!1,trueValue:null,falseValue:null,caseSensitive:!1,history:!0},n);!e(t.prompt(r)););},t.promptCLLoop=function(e,n){var r=P({hideEchoBack:!1,limitMessage:"Requested command is not available.",caseSensitive:!1,history:!0},n),i=H(e,r);for(r.limit=i.limit,r.preCheck=i.preCheck;t.prompt(r),!i.hRes;);},t.promptSimShell=function(e){return t.prompt(P({hideEchoBack:!1,history:!0},e,{prompt:u?"$<cwd>>":(process.env.USER||"")+(process.env.HOSTNAME?"@"+process.env.HOSTNAME.replace(/\..*$/,""):"")+":$<cwdHome>$ "}))},t.keyInYN=function(e,t){return F(e,t)},t.keyInYNStrict=function(e,t){return F(e,t,"yn")},t.keyInPause=function(e,n){null==e&&(e="Continue..."),n&&!1===n.guide||!(e+="")||(e=e.replace(/\s+$/,"")+" (Hit any key)"),t.keyIn(e,P({limit:null},n,{hideEchoBack:!0,mask:""}))},t.keyInSelect=function(e,n,r){var i=P({hideEchoBack:!1},r,{trueValue:null,falseValue:null,caseSensitive:!1,phContent:function(t){return"itemsCount"===t?e.length+"":"firstItem"===t?(e[0]+"").trim():"lastItem"===t?(e[e.length-1]+"").trim():null}}),o="",s={},a=49,c="\n";if(!Array.isArray(e)||!e.length||e.length>35)throw"`items` must be Array (max length: 35).";return e.forEach((function(e,t){var n=String.fromCharCode(a);o+=n,s[n]=t,c+="["+n+"] "+(e+"").trim()+"\n",a=57===a?97:a+1})),r&&!1===r.cancel||(o+="0",s[0]=-1,c+="[0] "+(r&&null!=r.cancel&&"boolean"!=typeof r.cancel?(r.cancel+"").trim():"CANCEL")+"\n"),i.limit=o,c+="\n",null==n&&(n="Choose one from list: "),(n+="")&&(r&&!1===r.guide||(n=n.replace(/\s*:?\s*$/,"")+" [$<limit>]: "),c+=n),s[t.keyIn(c,i).toLowerCase()]},t.getRawInput=function(){return c},t.setPrint=function(){return $("print",arguments)},t.setPrompt=function(){return $("prompt",arguments)},t.setEncoding=function(){return $("encoding",arguments)},t.setMask=function(){return $("mask",arguments)},t.setBufferSize=function(){return $("bufferSize",arguments)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Scope}));var _env__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_reader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_eval__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_repl_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),_printer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),is_node__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),is_node__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(is_node__WEBPACK_IMPORTED_MODULE_6__);const normalizeURL=(()=>{if(is_node__WEBPACK_IMPORTED_MODULE_6___default.a){const e=__webpack_require__(11);return(t,n)=>e.join(e.dirname(n),t)}return(e,t)=>new URL(e,t).href})();class Scope{constructor(e=null,t="repl",n=null,r=!1){this.outer=e,this.name=t,this.onSetup=n,this.cache=r,this.setup(),null===this.outer?this.initAsRoot():this.outer.inner=this}initAsRoot(){let filename;_repl_core__WEBPACK_IMPORTED_MODULE_3__.a.forEach(([e,t])=>{this.def(e,t)}),this.def("normalize-url",e=>{const t=this.var("*filename*");return normalizeURL(e,t)}),this.def("eval",e=>Object(_eval__WEBPACK_IMPORTED_MODULE_2__.a)(e,this.env)),this.def("import-js-force",url=>{const basename=this.var("*filename*"),absurl=normalizeURL(url,basename),text=Object(_repl_core__WEBPACK_IMPORTED_MODULE_3__.b)(absurl);eval(text);const exp=globalThis.glisp_library;return Object(_eval__WEBPACK_IMPORTED_MODULE_2__.a)(exp,this.env)}),filename=is_node__WEBPACK_IMPORTED_MODULE_6___default.a?"/Users/baku/Sites/glisp/repl/index.js":new URL(".",document.baseURI).href,this.def("*filename*",filename),this.readEval('(def import-force\n\t\t\t\t(fn [path]\n\t\t\t\t\t(let [url (normalize-url path)]\n\t\t\t\t\t\t(eval (read-string\n\t\t\t\t\t\t\t\t\t(format "(do (def *filename* \\"%s\\") %s \n nil)"\n\t\t\t\t\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\t\t\t\t\t(slurp url)))))))'),this.readEval('(import-force "./lib/core.cljs")'),is_node__WEBPACK_IMPORTED_MODULE_6___default.a&&this.def("*filename*",process.cwd())}setup(e){var t;this.env=new _env__WEBPACK_IMPORTED_MODULE_0__.a(null===(t=this.outer)||void 0===t?void 0:t.env),this.env.name=this.name,this.onSetup&&e&&this.onSetup(this,e),this.inner&&this.inner.env.setOuter(this.env)}REP(e){const t=this.readEval(e);void 0!==t&&_printer__WEBPACK_IMPORTED_MODULE_5__.b.return(Object(_printer__WEBPACK_IMPORTED_MODULE_5__.a)(t))}readEval(e){try{return this.eval(Object(_reader__WEBPACK_IMPORTED_MODULE_1__.b)(e))}catch(e){return e instanceof _reader__WEBPACK_IMPORTED_MODULE_1__.a?null:void(e instanceof _types__WEBPACK_IMPORTED_MODULE_4__.a?_printer__WEBPACK_IMPORTED_MODULE_5__.b.error(e):_printer__WEBPACK_IMPORTED_MODULE_5__.b.error(e.stack))}}eval(e){try{return Object(_eval__WEBPACK_IMPORTED_MODULE_2__.a)(e,this.env,this.cache)}catch(e){return void(e instanceof _types__WEBPACK_IMPORTED_MODULE_4__.a?_printer__WEBPACK_IMPORTED_MODULE_5__.b.error(e):_printer__WEBPACK_IMPORTED_MODULE_5__.b.error(e.stack))}}def(e,t){this.env.set(Object(_types__WEBPACK_IMPORTED_MODULE_4__.H)(e),t)}pushBinding(e){this.env.pushBinding(e)}popBinding(){this.env.popBinding()}var(e){return this.env.get(Object(_types__WEBPACK_IMPORTED_MODULE_4__.H)(e))}}},function(e,t,n){!function(e){var n={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function r(){var e=arguments[0],t=r.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=r.parse(e)),r.format.call(null,t[e],arguments)}r.format=function(e,t){var o,s,a,c,u,l,f,_,p=1,d=e.length,h="",b=[],y=!0,m="";for(s=0;s<d;s++)if("string"===(h=i(e[s])))b[b.length]=e[s];else if("array"===h){if((c=e[s])[2])for(o=t[p],a=0;a<c[2].length;a++){if(!o.hasOwnProperty(c[2][a]))throw new Error(r("[sprintf] property '%s' does not exist",c[2][a]));o=o[c[2][a]]}else o=c[1]?t[c[1]]:t[p++];if("function"==i(o)&&(o=o()),n.not_string.test(c[8])&&n.not_json.test(c[8])&&"number"!=i(o)&&isNaN(o))throw new TypeError(r("[sprintf] expecting number but found %s",i(o)));switch(n.number.test(c[8])&&(y=o>=0),c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}n.json.test(c[8])?b[b.length]=o:(!n.number.test(c[8])||y&&!c[3]?m="":(m=y?"+":"-",o=o.toString().replace(n.sign,"")),l=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",f=c[6]-(m+o).length,u=c[6]&&f>0?(_=l,Array(f+1).join(_)):"",b[b.length]=c[5]?m+o+u:"0"===l?m+u+o:u+m+o)}return b.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],i=[],o=0;t;){if(null!==(r=n.text.exec(t)))i[i.length]=r[0];else if(null!==(r=n.modulo.exec(t)))i[i.length]="%";else{if(null===(r=n.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){o|=1;var s=[],a=r[2],c=[];if(null===(c=n.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=c[1];""!==(a=a.substring(c[0].length));)if(null!==(c=n.key_access.exec(a)))s[s.length]=c[1];else{if(null===(c=n.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=c[1]}r[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=r}t=t.substring(r[0].length)}return i};function i(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}t.sprintf=r,t.vsprintf=function(e,t,n){return(n=(t||[]).slice(0)).splice(0,0,e),r.apply(null,n)}}("undefined"==typeof window||window)},,,,,function(e,t,n){"use strict";n.r(t);var r=n(30),i=n.n(r);const o=new(n(31).a);if("undefined"!=typeof process&&2<process.argv.length){const e=process.argv[2];o.def("*ARGV*",process.argv.slice(3)),o.def("*filename*",e),o.REP(`(import "${e}")`),process.exit(0)}for(o.REP('(str "Glisp [" *host-language* "]")');;){const e=i.a.question("glisp> ");if(null==e)break;if(""!==e)try{o.REP(e)}catch(e){console.error("Error:",e)}}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("os")}])}));